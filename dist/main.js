(()=>{"use strict";document.querySelector(".project-items");const e=document.querySelector("[data-projects]"),t=document.querySelector("[data-new-project-form]"),a=document.querySelector("[data-new-project-input");document.querySelector(".main-content"),document.querySelector(".main-header"),t.addEventListener("submit",(function(e){e.preventDefault();const t=a.value;if(null===t||""===t)return;const o=(c=t,{id:Date.now().toString(),name:c,tasks:[]});var c;n.push(o),a.value=null,console.log(n),d()}));const o="task.projects",c="task.selectedProjectId";let n=JSON.parse(localStorage.getItem(o))||[],r=localStorage.getItem(c);function d(){localStorage.setItem(o,JSON.stringify(n)),localStorage.setItem(c,r),s()}function s(){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),n.forEach((t=>{const a=document.createElement("div");a.classList.add("icon-size"),a.textContent="#",t.id===r&&a.classList.add("active"),e.appendChild(a);const o=document.createElement("p");o.dataset.projectId=t.id,o.classList.add("project-name"),o.innerText=t.name,t.id===r&&o.classList.add("active"),e.appendChild(o);const c=document.createElement("img");c.src="./assets/trash.svg",c.dataset.deleteProjectButton=t.id,e.appendChild(c)}))}e.addEventListener("click",(e=>{"p"===e.target.tagName.toLowerCase()&&(r=e.target.dataset.projectId,d())})),e.addEventListener("click",(e=>{"img"===e.target.tagName.toLowerCase()&&(n=n.filter((t=>t.id!==e.target.dataset.deleteProjectButton)),d())})),s(),window.localStorage.clear()})();